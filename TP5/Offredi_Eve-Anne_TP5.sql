--Tout compte appartient à au moins un client

CREATE OR REPLACE VIEW vue_Compte_Sans_Client
AS 
SELECT numCompte
FROM Compte
MINUS
SELECT unCompte
FROM Appartient
;

SELECT *
FROM vue_Compte_Sans_Client
;

--Une agence a forcément un et un seul directeur
    --Agence sans directeur

CREATE OR REPLACE VIEW vue_Agence_Sans_Directeur
AS 
SELECT numAgence
FROM Agence

MINUS

SELECT sonAgence
FROM Agent 
WHERE directeur = 1

UNION

SELECT sonAgence
FROM Agent
GROUP BY sonAgence
HAVING COUNT(*)>
    (
    SELECT COUNT(directeur)
    FROM Agent
    WHERE directeur=1
    GROUP BY directeur
    )
;

SELECT *
FROM vue_Agence_Sans_Directeur
;