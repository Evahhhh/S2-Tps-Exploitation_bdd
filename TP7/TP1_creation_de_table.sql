DROP TABLE Apprenti;
DROP TABLE Stagiaire;
DROP TABLE Etudiant;
DROP TABLE GroupeInfo1;
DROP TABLE Entreprise;
DROP TABLE Enseignant;


CREATE TABLE Enseignant(
    idEns VARCHAR(5),
    nomEns VARCHAR(20),
    prenomEns VARCHAR(20),

    CONSTRAINT pk_Enseignant PRIMARY KEY(idEns)
);

CREATE TABLE Entreprise(
    idEntreprise INTEGER,
    nomEntreprise VARCHAR(40),
    depEntreprise INTEGER,

    CONSTRAINT pk_Entreprise PRIMARY KEY(idEntreprise)
);

CREATE TABLE GroupeInfo1(
    idGroupe VARCHAR(1),
    tuteurGroupe VARCHAR(5),

    CONSTRAINT pk_idGroupe PRIMARY KEY(idGroupe),
    CONSTRAINT fk_GroupeInfo1_Enseignant FOREIGN KEY (tuteurGroupe) REFERENCES Enseignant(idEns)
);

CREATE TABLE Etudiant(
    idEtud INTEGER,
    nomEtud VARCHAR(20),
    prenomEtud VARCHAR(20),
    sexe VARCHAR(1),
    bac VARCHAR(10),
    nomLycee VARCHAR(50),
    depLycee INTEGER,
    leGroupeInfo1 VARCHAR(1),
    parcoursInfo2 VARCHAR(20),
    formationInfo2 VARCHAR(5),
    poursuiteEtudes VARCHAR(30),
    
    CONSTRAINT pk_Etudiant PRIMARY KEY(idEtud),
    CONSTRAINT fk_Etudiant_GroupeInfo1 FOREIGN KEY(leGroupeInfo1) REFERENCES GroupeInfo1(idGroupe)
);

CREATE TABLE Stagiaire(
    etudStagiaire INTEGER,
    entrepriseStage INTEGER,
       
    CONSTRAINT pk_Stagiaire PRIMARY KEY(etudStagiaire),
    CONSTRAINT fk_Stagiaire_Etudiant FOREIGN KEY(etudStagiaire) REFERENCES Etudiant(idEtud),
    CONSTRAINT fk_Stagiaire_Entreprise FOREIGN KEY(entrepriseStage) REFERENCES Entreprise(idEntreprise)
);

CREATE TABLE Apprenti(
    etudApp INTEGER,
    entrepriseApp INTEGER,
    tuteurApp VARCHAR(5),
       
    CONSTRAINT pk_Apprenti PRIMARY KEY(etudApp),
    CONSTRAINT fk_Apprenti_Etudiant FOREIGN KEY(etudApp) REFERENCES Etudiant(idEtud),
    CONSTRAINT fk_Apprenti_Entreprise FOREIGN KEY(entrepriseApp) REFERENCES Entreprise(idEntreprise),
    CONSTRAINT fk_Apprenti_Enseignant FOREIGN KEY(tuteurApp) REFERENCES Enseignant(idEns)
);